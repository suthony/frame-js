function do_SlideView(uiJson,parentNode){this.type="do_SlideView";var that=this;this.uiType=2;this.defaultProps={allowGesture:true,index:0,looping:false,templates:""};this.refreshItems=refreshItems;this.bindItems=bindItems;function refreshItems(){this.bindItems(this.listData)}function bindItems(listData){this.listData=listData;var data=listData.getAllData();this.views=[];for(var i=0;i<data.length;++i){var item=data[i];var templateIndex=item.template;var tempaltePaths=this.templates.split(",");var templatePath=tempaltePaths[templateIndex];var templateUiJson=getUIByPath(templatePath).RootView;this.views.push(templateUiJson)}this.childrenVirtualNodes=this.getVirtualChildrenNodes();for(var i=0;i<this.childrenVirtualNodes.length;++i){var virtualNode=this.childrenVirtualNodes[i];var datUIMap=virtualNode.DataMapUI;var one=data[i];var hashData=mm("do_HashData");hashData.addData(one);virtualNode.bindData(hashData)}this.getDOMElememt()}this.onDOMCreated=function(){var that=this;Object.defineProperty(that,"index",{set:function(newValue){this.uiJson.index=newValue;var translateX=getRealSize(newValue*parseInt(that.width));that.DOMElement.children[0].style["transition-duration"]="200ms";that.DOMElement.children[0].style["transform"]="translate3d(-"+translateX+"px, 0px, 0px)";that.fire("indexChanged",newValue)},get:function(){return this.uiJson.index||this.defaultProps.index}});var newPosition=null;var firstVisiblePositionTemp=null;var lastVisiblePositionTemp=null;var rate=1.4;var startX;var startY;var totalTranslateX=0;that.DOMElement.children[0].style["will-change"]="transform";that.DOMElement.children[0].style["transition-property"]="transform";this.DOMElement.addEventListener("touchmove",function(event){var pageX=event.changedTouches[0].pageX;var pageY=event.changedTouches[0].pageY;if(Math.abs(pageY-startY)<Math.abs(pageX-startX)*1.2)event.preventDefault();var translateX=totalTranslateX+pageX*rate-startX;that.DOMElement.children[0].style["transition-duration"]="0ms";that.DOMElement.children[0].style["transform"]="translate3d("+translateX+"px, 0px, 0px)"});this.DOMElement.addEventListener("touchstart",function(event){startX=event.changedTouches[0].pageX*rate;startY=event.changedTouches[0].pageY*rate});this.DOMElement.addEventListener("touchend",function(event){var pageX=event.changedTouches[0].pageX;totalTranslateX+=pageX*rate-startX;that.DOMElement.children[0].style["transition-duration"]="300ms";var toIndex=Math.round(-totalTranslateX/getRealSize(parseInt(that.width)));if(toIndex<0)toIndex=0;if(toIndex>=that.childrenVirtualNodes.length)toIndex=that.childrenVirtualNodes.length-1;var translateX=getRealSize(toIndex*parseInt(that.width));totalTranslateX=-translateX;that.DOMElement.children[0].style["transform"]="translate3d(-"+translateX+"px, 0px, 0px)";that.fire("indexChanged",toIndex)});this.DOMElement.addEventListener("click",function(event){var pageX=event.pageX;var childrenDOMElements=that.childrenVirtualNodes;for(var i=0;i<childrenDOMElements.length;++i){var child=childrenDOMElements[i].DOMElement;var x1=child.getBoundingClientRect().left;var x2=x1+child.getBoundingClientRect().width;if(pageX>x1&&pageX<x2){that.fire("touch",i);break}}});this.DOMElement.addEventListener("scroll",function(event){event.preventDefault()})};this.render=function(){var div=this.DOMElement?this.DOMElement:document.createElement("div");for(var key in this.style)div.style[key]=this.style[key];div.style.overflowX="scroll";div.style.overflowY="hidden";div.style.position="relative";div.innerHTML="";var innerDIV=document.createElement("div");if(this.childrenVirtualNodes)for(var i=0;i<this.childrenVirtualNodes.length;++i){var virtualNode=this.childrenVirtualNodes[i];var dom=virtualNode.getDOMElememt();dom.style.display="inline-block";dom.style.position="absolute";dom.style.top="0px";dom.style.left=i*getRealSize(parseInt(this.width))+"px";innerDIV.appendChild(dom)}div.appendChild(innerDIV);return div};UI.call(this,uiJson,parentNode)}(function(){var Super=function(){};Super.prototype=UI.prototype;do_SlideView.prototype=new Super})();